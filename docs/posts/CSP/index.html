<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Ben Amollo">
<meta name="dcterms.date" content="2024-05-20">

<title>SpatialInsights - Shaping Progress: The Role of County Spatial Planning in Kenya’s Development</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">SpatialInsights</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../blogz.html"> 
<span class="menu-text">Blogs</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../contz.html"> 
<span class="menu-text">Contacts</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://facebook.com/BenAmollo"> <i class="bi bi-facebook" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/Plan_Ben_Amollo"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://instagram.com/Ben.Amollo"> <i class="bi bi-instagram" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://whatsapp.com/+254721646495"> <i class="bi bi-whatsapp" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/KampSpatial"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://linkedin.com/BenAmollo"> <i class="bi bi-linkedin" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Shaping Progress: The Role of County Spatial Planning in Kenya’s Development</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">County</div>
                <div class="quarto-category">Urban</div>
                <div class="quarto-category">Development</div>
                <div class="quarto-category">Land Use</div>
                <div class="quarto-category">Planning</div>
                <div class="quarto-category">County Planning</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Ben Amollo </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">May 20, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="section" class="level1">
<h1></h1>
</section>
<section id="county-spatial-planning" class="level1">
<h1>County Spatial Planning</h1>
<p>County Spatial Planning in Kenya is a critical component of the nation’s development strategy. In accordance with the Constitution of Kenya 2010 and the County Governments Act 2012, spatial planning at the county level seeks to promote sustainable and organized growth in each of Kenya’s 47 counties. This article delves into the significance, process, and challenges that come with spatial planning in the Kenyan context.</p>
<section id="significance-of-county-spatial-planning" class="level2">
<h2 class="anchored" data-anchor-id="significance-of-county-spatial-planning"><strong>Significance of County Spatial Planning</strong></h2>
<p>County spatial planning is significant for several reasons:</p>
<ul>
<li><p><strong>Balanced Development</strong>: It ensures that the growth of urban, peri-urban, and rural areas is harmonized, reducing regional disparities.</p></li>
<li><p><strong>Resource Management</strong>: Effective planning helps in the sustainable management of resources, including land, water, and minerals.</p></li>
<li><p><strong>Infrastructure Development</strong>: It guides the implementation of infrastructure projects, ensuring they cater to present and future needs.</p></li>
<li><p><strong>Environmental Conservation</strong>: Spatial plans incorporate environmental protection measures, helping counties address climate change and biodiversity loss.</p>
<h2 id="county-spatial-planning-process" class="anchored"><strong>County Spatial Planning Process</strong></h2>
<p>The spatial planning process in Kenya involves several stages:</p></li>
</ul>
<!-- -->
<ul>
<li><p><strong>Public Participation</strong>: Engaging local communities is foundational to the planning process to ensure the plans reflect the needs and aspirations of the residents.</p></li>
<li><p><strong>Situation Analysis</strong>: County planners carry out comprehensive studies to understand the current state of resources, infrastructure, and development patterns.</p></li>
<li><p><strong>Vision Setting</strong>: The county government sets a long-term vision for what it hopes to achieve through spatial planning.</p></li>
<li><p><strong>Policy Formulation</strong>: Based on the analysis and vision, specific policies are developed to guide land use, infrastructure development, and resource allocation.</p></li>
<li><p><strong>Plan Preparation</strong>: A draft spatial plan is prepared, which includes maps and documents detailing the development strategies and land use proposals.</p></li>
<li><p><strong>Approval and Implementation</strong>: The draft plan goes through a formal approval process, after which it is made available to the public. Implementation involves all county departments and relevant stakeholders.</p></li>
<li><p><strong>Monitoring and Evaluation</strong>: Periodic assessments are conducted to ensure the spatial plan’s objectives are being met and to make necessary adjustments.</p>
<p><img src="images/clipboard-167123479.png" class="img-fluid"></p>
<h2 id="challenges-in-county-spatial-planning" class="anchored"><strong>Challenges in County Spatial Planning</strong></h2>
<p>While county spatial planning is a potent tool for directing development, there are challenges:</p></li>
</ul>
<!-- -->
<ul>
<li><p><strong>Financial Constraints</strong>: Many counties face budgetary limitations that hinder effective planning and execution of development projects.</p></li>
<li><p><strong>Technical Capacity</strong>: There is often a lack of skilled personnel to undertake comprehensive spatial planning at the county level.</p></li>
<li><p><strong>Inter-county Coordination</strong>: Given that development issues often spill over county boundaries, there is a need for greater collaboration which sometimes is lacking.</p></li>
<li><p><strong>Land Ownership Disputes</strong>: Conflicts over land ownership and use can complicate the planning process.</p></li>
<li><p><strong>Implementation Gaps</strong>: Even with a robust plan, implementing policies and projects can be challenging due to administrative hurdles and resistance to change.</p></li>
<li><p><strong>Rapid Urbanization</strong>: The pressure of urbanization often outpaces the planning capacity of counties, leading to informal settlements and uncontrolled development.</p>
<h2 id="the-path-forward" class="anchored"><strong>The Path Forward</strong></h2>
<p>For county spatial planning to achieve its desired impact, concerted efforts must be made to overcome these challenges. This involves:</p></li>
</ul>
<!-- -->
<ul>
<li><p><strong>Capacity Building</strong>: Training and equipping planners with the necessary tools and knowledge to manage complex spatial issues.</p></li>
<li><p><strong>Public-Private Partnerships</strong>: Leveraging private sector resources and expertise can bolster planning efforts.</p></li>
<li><p><strong>Legal and Policy Support</strong>: Ensuring that there is a supportive legal framework that governs land use and property rights.</p></li>
<li><p><strong>Community Involvement</strong>: Continuous engagement with the community for feedback and support for planned initiatives.</p></li>
<li><p><strong>Integrated Planning</strong>: Harmonizing plans across counties and sectors to create a cohesive approach to national development.</p></li>
</ul>
<p>In conclusion, county spatial planning is essential in guiding Kenya towards sustainable development. By addressing current limitations and harnessing the full potential of this facet of governance, Kenya can pave the way for organized growth, equitable resource distribution, and a prosperous future for all its citizens.</p>
</section>
</section>
<section id="bridging-the-gap-how-county-spatial-planning-helps-reduce-regional-disparities-in-kenya" class="level1">
<h1>Bridging the Gap: How County Spatial Planning Helps Reduce Regional Disparities in Kenya</h1>
<p><img src="images/clipboard-2407171851.png" class="img-fluid"></p>
<p>County Spatial Planning in Kenya plays a pivotal role in addressing regional disparities, a significant challenge given the country’s diverse geography and socio-economic landscape. With a history of centralized development policies that have favored some regions over others, Kenya’s devolved system of government has made it imperative to strategize at the county level to ensure more equitable growth across the nation. Here’s how spatial planning at the county level is being harnessed to bridge the development divide.</p>
<ol type="1">
<li><p><strong>Inclusive Development Strategies:</strong><br>
Spatial planning allows for the drafting of targeted development strategies that take into account the unique strengths and needs of each county. By focusing on inclusive development, counties can formulate plans that foster growth in lagging areas, ultimately reducing the gap between more and less developed regions.</p></li>
<li><p><strong>Resource Distribution:</strong><br>
One of the central aims of county spatial planning is the rational allocation of resources. Counties can prioritize infrastructure investments, such as roads, healthcare, and education, in underserved areas to promote equal access to basic services and economic opportunities.</p></li>
<li><p><strong>Economic Diversification:</strong><br>
Spatial planning enables counties to identify and develop diverse economic activities based on their local resources and comparative advantages. By promoting various sectors such as agriculture, manufacturing, tourism, or technology within different regions, counties can create jobs and reduce reliance on a single economic activity or resource, which often leads to uneven development.</p></li>
<li><p><strong>Land Use Planning:</strong><br>
Through spatial planning, counties can implement land use policies that encourage equitable growth. This includes zoning regulations that protect agricultural land, promote affordable housing, and ensure that investment is directed towards regions that have historically been marginalized or overlooked.</p></li>
<li><p><strong>Enhanced Infrastructure Connectivity:</strong><br>
Counties can plan and develop transportation and communication networks that better integrate rural and urban areas. Improved connectivity facilitates the flow of goods, services, and information, thereby narrowing the development gap between regions.</p></li>
<li><p><strong>Environmental Management:</strong><br>
Proper spatial planning ensures that development is sustainable and that environmental resources are managed equitably. By protecting watersheds, forests, and biodiversity, counties can prevent environmental degradation that disproportionately affects remote and poorer regions.</p></li>
<li><p><strong>Public Participation:</strong><br>
County spatial planning often involves community input, allowing residents from all parts of the county to voice their concerns and preferences. This inclusive approach ensures that minority and underrepresented groups have a say in the development process, leading to more balanced regional growth.</p></li>
<li><p><strong>Collaborative Frameworks:</strong><br>
Inter-county collaboration is one of the key benefits of spatial planning, as it enables neighboring counties to work together on cross-boundary issues such as trade, infrastructure, and resource management, leading to a more unified approach to tackling regional disparities.</p></li>
<li><p><strong>Monitoring and Accountability:</strong><br>
County governments are responsible for monitoring spatial plans and ensuring they are implemented effectively, with a focus on reducing inequality. This level of local accountability ensures that development efforts are closely tracked and evaluated to address any persisting disparities.</p></li>
</ol>
<p>In conclusion, county spatial planning serves as a crucial mechanism for reducing regional disparities in Kenya. Through targeted, inclusive, and sustainable development strategies, each county has the potential to uplift neglected areas and contribute to a more balanced national development landscape. The journey to reducing regional disparities through spatial planning is an ongoing process, requiring continued efforts, innovation, and commitment from both county governments and their constituents.</p>
</section>
<section id="fostering-economic-diversification-through-county-spatial-planning-in-kenya" class="level1">
<h1><strong>Fostering Economic Diversification through County Spatial Planning in Kenya</strong></h1>
<p><img src="images/clipboard-4137678168.png" class="img-fluid"></p>
<p>County spatial planning in Kenya is not just about organizing or allocating land for various uses; it’s a strategic tool that significantly contributes to the economic diversification of the country. Given Kenya’s rich cultural diversity, ecological variety, and uneven distribution of resources, spatial planning at the county level has emerged as a vital approach to harnessing localized strengths and reducing economic vulnerabilities. Here’s how county spatial planning is spearheading economic diversification in Kenya:</p>
<ol type="1">
<li><p><strong>Identification of Local Economic Opportunities:</strong><br>
Spatial planning helps in identifying unique local resources and opportunities that can be harnessed for economic development. For instance, a county with vast mineral resources can focus on developing its mining sector, while another with fertile lands may prioritize agriculture or agro-processing industries. This utilization of local assets encourages a diversified economic base across different counties.</p></li>
<li><p><strong>Supporting Sector-specific Development:</strong><br>
Through spatial planning, counties can allocate land and resources to support specific sectors that have the potential for growth and diversification. For example, land zoning can encourage the development of industrial parks, technology hubs, or tourist attractions, depending on a county’s strategic plans and comparative advantages. This targeted support can stimulate new economic activities and reduce over-dependence on traditional sectors.</p></li>
<li><p><strong>Infrastructure Development for Economic Support:</strong><br>
Strategic infrastructure development is a key aspect of county spatial planning. By prioritizing investments in roads, energy, water supply, and ICT, counties can create an enabling environment for diverse economic activities to flourish. Improved infrastructure also attracts domestic and foreign investment into new sectors, further driving economic diversification.</p></li>
<li><p><strong>Promoting Sustainable Use of Natural Resources:</strong><br>
Spatial planning includes the management and sustainable use of natural resources. By crafting policies that protect the environment while allowing for economic exploitation, counties can diversify their economies through sustainable tourism, green energy, and conservation projects. This approach ensures long-term economic resilience and sustainability.</p></li>
<li><p><strong>Enhancing Urban-Rural Linkages:</strong><br>
County spatial planning fosters better integration between urban and rural areas. By promoting agro-based industries near agricultural zones and enhancing market access for rural producers, spatial planning supports the development of a more diversified rural economy. These urban-rural linkages are crucial for broadening the economic base of both rural and urban centers.</p></li>
<li><p><strong>Creating Employment Opportunities:</strong><br>
Economic diversification through spatial planning creates various employment opportunities in new and emerging sectors. This not only helps to reduce unemployment but also curbs urban migration by providing viable economic opportunities in less developed areas. This balanced growth helps to alleviate economic disparities across counties.</p></li>
<li><p><strong>Encouraging Investment and Innovation:</strong><br>
By showcasing the economic potential of different regions through well-thought-out spatial plans, counties can attract investment from both private and government sectors. Additionally, the development of sector-specific zones, such as technology or industrial parks, can serve as incubation centers for innovation and entrepreneurship, further diversifying the economy.</p></li>
</ol>
<p>Through these strategies, county spatial planning in Kenya serves as a foundational element in fostering economic diversification across the nation. It allows for the tailored development of regions based on their unique strengths and opportunities, contributing to more robust and resilient economic growth. By continuing to leverage spatial planning for economic diversification, Kenya can ensure a more equitable and prosperous future for all its citizens.</p>
</section>
<section id="harnessing-unique-local-resources-for-economic-development-via-county-spatial-planning" class="level1">
<h1><strong>Harnessing Unique Local Resources for Economic Development via County Spatial Planning</strong></h1>
<p><img src="images/clipboard-3795474326.png" class="img-fluid"></p>
<p>County spatial planning plays a pivotal role in economic development by identifying and utilizing unique local resources. This strategic approach enables counties to tap into their inherent strengths, fostering growth and diversification. Here’s a detailed look at how county spatial planning effectively identifies and capitalizes on unique local resources for economic development:</p>
<ol type="1">
<li><p><strong>Resource Mapping and Assessment:</strong><br>
The initial step in county spatial planning involves detailed mapping and assessment of available local resources. This includes natural resources (such as minerals, forests, and water bodies), cultural assets (heritage sites, cultural practices), and human resources (labor force skills and knowledge). These assessments are crucial for understanding the economic potential embedded within a region.</p></li>
<li><p><strong>Stakeholder Engagement and Needs Analysis:</strong><br>
County planning authorities engage with local communities, businesses, and stakeholders to gather insights and understand the needs of the area. This participatory approach ensures that the spatial planning process is inclusive and reflects the aspirations of local residents. Stakeholder engagement helps in pinpointing opportunities for leveraging local resources in a way that benefits the community at large.</p></li>
<li><p><strong>Strategic Zoning and Land Use Planning:</strong><br>
Based on the resource assessment and community inputs, counties proceed to zone areas for specific uses that align with their unique strengths. For example, areas with rich biodiversity might be zoned for eco-tourism, while regions with fertile land may be allocated for agricultural development. Strategic zoning helps in safeguarding valuable resources while providing a clear framework for their sustainable and economically viable utilization.</p></li>
<li><p><strong>Infrastructure Development Aligned with Local Strengths:</strong><br>
Counties plan and invest in infrastructure development that supports the economic exploitation of local resources. For instance, if a county has a significant agricultural output, investments might be directed towards improving road networks for better market access, establishing agro-processing facilities, and enhancing water supply for irrigation. This targeted infrastructure development serves as the backbone for economic activities centered around local resources.</p></li>
<li><p><strong>Creating Economic Clusters and Value Chains:</strong><br>
Spatial planning facilitates the development of economic clusters by encouraging businesses and industries related to a particular local resource to set up operations in proximity. This clustering effect can lead to the development of entire value chains around a resource, from raw material extraction or production to processing, marketing, and exports. It fosters an ecosystem of businesses that can drive economic growth and innovation.</p></li>
<li><p><strong>Policy Formulation and Incentivization:</strong><br>
Counties formulate policies and provide incentives to attract investment into sectors that capitalize on local resources. These can include tax breaks, subsidies for resource-based industries, and support for research and development activities. Such policies create a favorable environment for businesses to invest in local resources, leading to job creation and economic diversification.</p></li>
<li><p><strong>Environmental Protection and Sustainability:</strong><br>
An integral component of utilizing local resources for economic development is ensuring environmental sustainability. Spatial planning incorporates environmental conservation measures to protect resources from overexploitation and degradation. Sustainable use of local resources guarantees their availability for future generations while supporting economic growth.</p></li>
</ol>
<p>Through these mechanisms, county spatial planning in Kenya and elsewhere identifies and uses unique local resources as catalysts for economic development. By strategically leveraging these resources, counties can foster a sustainable, diversified, and resilient economic landscape that benefits the entire community.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>